<script>
  const farm = document.getElementById("farm");
  const crops = ["üåΩ","ü•ï","üçÖ"];

  // Load inventory from localStorage or start fresh
  let inventory = JSON.parse(localStorage.getItem("inventory")) || [];

  // Create plots
  for (let i = 0; i < 15; i++) {
    const plot = document.createElement("div");
    plot.classList.add("plot");
    plot.dataset.state = "empty";
    plot.addEventListener("click", () => handleClick(plot));
    farm.appendChild(plot);
  }

  function handleClick(plot) {
    if (plot.dataset.state === "empty") {
      // Plant seed
      plot.textContent = "üå±";
      plot.dataset.state = "growing";

      // Grow after 3 seconds
      setTimeout(() => {
        if (plot.dataset.state === "growing") {
          const crop = crops[Math.floor(Math.random() * crops.length)];
          plot.textContent = crop;
          plot.dataset.state = "grown";
        }
      }, 3000);

    } else if (plot.dataset.state === "grown") {
      // Harvest
      const crop = plot.textContent;
      inventory.push(crop);
      localStorage.setItem("inventory", JSON.stringify(inventory));
      alert("You harvested " + crop + "!");
      plot.textContent = "";
      plot.dataset.state = "empty";
    }
  }
</script>
